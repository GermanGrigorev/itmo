<script>
  export const WeatherInPlaceApi = {
    async findWeatherInCity(cityName) {
      return axios.get`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=71d31aa0fa80b76923fd889e32f0d07f&units=metric&lang=ru`;
    },
    async getWeatherByCords(lat, lon) {
      return axios.get`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=71d31aa0fa80b76923fd889e32f0d07f&units=metric&lang=ru`;
    },
  };
</script>

<script lang="ts">
  export async function getCurrentPosition() {
    return new Promise((resolve) => {
      if (navigator?.geolocation?.getCurrentPosition) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            resolve(position);
          },
          () => resolve(null)
        );
      } else {
        resolve(null);
      }
    });
  }
</script>
